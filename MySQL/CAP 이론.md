# CAP 이론
CAP이론은 적절한 응답시간 내 CAP의 세가지 속성을 모두 만족시키는 분산시스템은 구현할 수 없다는 이론이다.

참고로 분산시스템을 구성할때 분할은 반드시 일어나기 때문에 P는 반드시 보장되어야 하며 C, A중 하나를 선택해야한다. 그리고 C, A중 하나를 선택한다 해도 나머지 속성은 무조건적으로 보장이 안된다고 볼 수는 없다 CP에서 요청에 몇 초 이내에 응답을 하거나, 읽기 작업같은경우 바로 요청을 들어주는식으로 어느정도 보장이 되기 때문이다. 
즉 CAP속성에서 어느쪽에 치우칠것인지를 말한다. 또 몇몇 NoSQL은 C와 A의 비율을 조정할 수 있다고 하여 CAP이론은 절대적인 이론이라고 보기는 힘들것 같다
## CP
분할이 발생하였을때 데이터 일관성을 보장하기 위해 요청이 와도 분할이 해결될때 까지 대기하였다가 응답. 분할을 해결할때 까지 바로 응답을 하지 못해 가용성을 포기해야한다.
## AP
분할이 발생하였을때 가용성을 중요하게 여겨 요청에 바로 응답. 이런경우 데이터 일관성을 깨지게 되며 최종적 일관성을 통해 추후 복구
# CAP
CAP은 분산 시스템을 구성하는 Consistency(일관성), Availability(가용성), Partition Tolerance(분할 허용성)의 3가지 특성을 말한다.
## CAP 구성요소
### Consistency(일관성)
분산 시스템에서 모든 노드들이 동일한 데이터를 가지고 있어야 한다
이는 사용자가 데이터를 요청했을때 어떤 노드라도 상관없이 동일한 데이터를 응답해야한다.
이를 위해서 사용자가 데이터 Write를 요청하여 노드에 반영될때 해당 내용이 다른 노드에 모두 동기화를 해야하며 이를 위해서 다른 노드에도 이 반영 내용이 복제되어야 한다.
### Availability(가용성)
분산 시스템에서 특정 노드가 장애가 발생하더라도 계속해서 데이터베이스에서 READ, WRITE 작업이 가능해야 한다. 즉 시스템은 특정 노드에 장애가 발생하더라도 정상적으로 동작되어야 한다
### Partition Tolerance(분할 허용성)
분산 시스템에 분할이 생겨도 요청을 정상적으로 응답할 수 있어야 함을 말한다.
CAP에서 P는 분산 시스템의 필수 구성요소이다.
why?) 분산 시스템에서는 네트워크 장애등의 여러 이유로 장애가 발생해 분할이 일어날 수 밖에 없기 때문에 분할 허용성 특성이 필요함

참고로 분할은 다른 노드간의 통신이 끊어진 상태임을 말한다.