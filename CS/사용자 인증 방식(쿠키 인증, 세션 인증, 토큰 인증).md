### 쿠키 인증
쿠키에 있는 정보를 통해 유저를 식별하고 인증하는 방식
![[Pasted image 20250228024315.png]]
1. 유저가 로그인을 한다
2. 서버는 Set-Cookie 헤더를 통해 클라이언트 브라우저 쿠키에 유저 정보를 담는다
3. 이후 유저는 해당 서버 도메인에 요청을 보낼때 저장된 쿠키를 담아 요청한다
4. 서버는 쿠키를 통해 유저를 식별해 유저를 인증한다
#### 단점
1. 보안에 굉장히 취약하다
	1. 유출과 조작 위험이 있다.
2. 쿠키 자체의 한계로 용량 제한이 있어 많은 정보를 담지 못한다
3. 쿠키에 담는 정보가 많을수록 네트워크 부하가 심해진다
### 세션 인증
세션을 통해 유저를 인증하는 방식으로, 클라이언트가 보낸 세션 ID를 통해 세션 저장소에 있는 유저 정보를 찾아 유저를 인증하는 방식.
![[Pasted image 20250228030518.png]]
1. 클라이언트는 로그인을 한다.
2. 서버는 유저 정보를 세션에 저장하고, 세션 정보 식별자인 세션 ID를 유저에게 응답한다
3. 클라이언트는 세션 ID를 저장한다
4. 클라이언트는 세션 ID와 함께 요청을 보낸다
5. 서버는 세션 저장소에서 세션 ID와 일치하는 유저정보를 조회해 인증하고, 유저에 맞춰 응답한다.
#### 특징
1. 정보를 서버에서 직접 관리한다.
	1. 외부 노출 위험이 줄어든다
#### 단점
1. 세션 ID를 통해 유저를 인증하기 때문에, 세션 ID가 탈취되면 해당 유저인척 위장이 가능하다.
2. 서버의 DB에 정보를 관리하기 때문에 서버 부하가 생긴다
### 토큰 인증
토큰을 통해 유저를 인증하는 방식이다.
토큰은 토큰 자체에 데이터가 포함되어 있고, 토큰에 포함되어 있는 서명을 통해 위조방지와 동시에 서버가 생성한 데이터이자 토큰임을 인증할 수 있다.

토큰은 서버가 생성한 데이터이면서, 서버가 직접 생성한 데이터임을 인증함과 동시에 위조방지가 들어있는 데이터라고 생각하면 된다.
![[Pasted image 20250228033819.png]]
1. 클라이언트는 로그인을 한다.
2. 서버는 토큰에 유저 정보와 서명을 담아 유저에게 응답한다
3. 클라이언트는 토큰을 저장한다
4. 클라이언트는 토큰과 함께 요청을 보낸다
5. 서버는 자신이 발급한 토큰인지 확인하고, 확인이 되었으면 토큰에 들어있는 정보를 기반으로 유저에게 적절한 정보로 응답한다.
### 장점
1. 서명을 통해 데이터의 위변조를 막는다
2. 토큰 자체에 데이터를 가지고 있어 인증에 저장소가 필요하지 않아 서버 부담이 없으며, 확장성도 띄어다
3. 토큰을 통해 독립적으로 서버에 인증이 가능하고, 독립적이기 때문에 토큰을 넘겨 상대방에게 권한 위임도 가능해 OAuth에 사용된다.
### 단점
1. 토큰 자체에 데이터를 담고 있고 쉽게 복호화가 가능해 민감한 정보를 담을 시 위험할 수 있다.
2. 토큰은 클라이언트에서 담기 때문에 토큰이 탈취되어도 조취를 취할 수 없고, 탈취자는 토큰을 이용해 사용자인척 속일 수 있다.
3. 토큰의 길이가 길어지면 네트워크에 부담을 줄 수 있다.

참고 및 자료 출처
https://inpa.tistory.com/entry/WEB-%F0%9F%93%9A-JWTjson-web-token-%EB%9E%80-%F0%9F%92%AF-%EC%A0%95%EB%A6%AC#jwt_%EA%B5%AC%EC%A1%B0