# 세마포어(Semaphore)란?
세마포어는 여러 스레드가 공유 자원에 접근을 제어하는 방법
* 세마포어 S는 정수 값을 가지며, 값은 동시 접근 가능한 개수를 의미한다
	* 초기값이 3이면 동시에 3개의 쓰레드가 접근이 가능하다는 의미
* P(wait), V(signal)를 통해 세마포어 값을 조작한다, P로 세마포어 값을 down V로 UP
* 세마포어를 통해 임계 구역의 코드를 동기화 방식으로 동작시켜, 동시 접근을 막고 순서제어가 가능하다
* 세마포어 해제는 락을 건 스레드가 아니여도 가능하다
## 종류
##### 이진 세마포어
세마포어 S의 값이 0,1만 존재한다
##### 카운팅 세마포어
세마포어 S의 값의 제한이 없다, 정해진 S값 만큼 동시에 쓰레드가 공유자원에 접근하는것을 허용한다
```
 // 최초 방식
 // 반복문으로 불필요한 호출이 반복적으로 발생
 // 어떤 쓰레드가 동시 접근할지 순서가 정해져 있지 않음
 P(S) {
     while S <=0; // 아무것도 하지 않음 (반복문)
     S--;
 }

 V(S) {
     S++;
 }
// 최초 방식의 단점을 보완한 방식
// 효율적으로 동작
// sleeping queue를 통해 다음에 어떤 쓰레드가 실행할지 파악이 되는 형태
 P(S) {
     S--;
     if S < 0
         // 이 프로세스를 재움 큐에 추가 (잠 듦)
 }

 V(S) {
     S++;
     if S <= 0
         // 재움 큐로부터 프로세스를 제거 (깨어남)
 }

```
###### 참고
https://ko.wikipedia.org/wiki/%EC%84%B8%EB%A7%88%ED%8F%AC%EC%96%B4
