---
tags:
  - http
---
# HTTP/1.X
HTTP/1.0은 1996에 출시되었으며 HTTP/1.1은 3년뒤인 1999년에 출시되어 빠르게 채택됨
HTTP/1.1은 우리가 알고있는 일반적인 HTTP방식으로 브라우저가 서버에 요청을하면 서버는 해당 요청을 응답하는 방식으로 단방향 통신을 한다
### HTTP/1.X의 문제점
HTTP/1.X에는 다양한 성능저하를 발생시키는 문제가 있다
###### Head-of-line blocking
각 HTTP/1.x 연결(Connection)은 한번에 하나의 요청만 처리할 수 있어, 이전 요청이 완료될때 까지 다음 요청은 Blocking되어 네트워크 리소스가 비효율적으로 사용됨
###### 우선순위 기능 부재
HTTP/1.x는 요청에 우선순위를 부여하는 기능이 없어, 중요하지 않은 리소스 요청이 중요한 리소스 요청을 방해 할 수 있음
###### Plain Text Header의 크기
쿠키를 비롯하여 헤더에 Plain Text를 담을때 헤더의 크기가 큰 문제가 있다
###### 그 외에 다양한 문제 존재
# HTTP/2
2015년에 출시되었으며, HTTP/1.X의 다양한 문제들을 해결하기 위해 다양한 기능들이 도입되었다
## 특징

 ![[Pasted image 20250417041328.png]]
###### 멀티플렉싱
기존의 HTTP/1,X는 [[#Head-of-line blocking|Head-of-line blocking]] 문제가 있다
하지만 멀티플렉싱을 통해 하나의 TCP 연결(Connection)을 두고 동시에 여러 요청을 할 수 있고 여러 요청을 동시에 응답받을 수 있게 되었다.
###### 헤더 압축
HPACK 알고리즘을 사용해 요청과 응답 헤더의 데이터를 압축해 전송되는 데이터 크기를 줄임
###### 서버 푸시
서버는 클라이언트가 요청하기전에 클라이언트가 요청할것같은 리소스를 미리 예측하여 미리 클라이언트의 캐시에 리소스를 푸시하여 대기 시간을 줄이고 전반적인 사용자 경험을 향상시킴
###### 스트림 우선순위 지정
클라이언트가 요청에 우선순위를 부여할 수 있어 더 중요한 리소스를 빠르게 받아볼 수 있다
![[Pasted image 20250417190017.png]]
###### Binary Framing Layer
HTTP/1.X에서는 Text로 HTTP 메시지를 전송했는데
Binary Framing Layer를 사용하여 메시지를 캡슐화하여, 더 효율적이고 구조적 오류가 적은형태로 통신하는게 가능하다
## 단점
##### TCP 사용에 따른 문제점
HTTP/2는 TCP를 연결 프로토콜로 표준으로 삼았기 때문에 TCP사용에 따른 문제를 가지고 있다
###### 1. 높은 RTT
TCP Handshake로 인해 발생하는 높은 RTT로 인해 지연 시간이 발생한다
![[Pasted image 20250417192346.png]]
###### 2. TCP 자체 HOLB
TCP의 기본원리로 패킷이 유실 혹은 오류가 발생하면 패킷을 재전송하는데 재전송 과정에서 패킷이 지연이 발생하면서 TCP HOLB문제가 발생한다. (HTTP HOLB와는 다른 문제)
# HTTP/3
HTTP/3는 HTTP2에서 사용하는 TCP를 사용하지않고 QUIC라는 UDP 프로토콜을 표준으로 사용한다.
## QUIC 사용의 장점
* 내장 암호화
	* QUIC는 TLS 1.3과 통합하여 TLS Handshake가 필요하지 않음
* HOLB 감소
	* QUIC는 개별 스트림에서 패킷 손실을 처리하여 단일 패킷의 손실에 따른 재전송이 연결 전체를 차단 하지 않아 HOLB 문제를 줄임
* 연결 유지
	* 기존에는 클라이언트 IP, PORT와 서버 IP, PORT를 통해 연결을 유지해 클라이언트 IP가 바뀌는(WIFI -> 4G) 상황이 되면 재연결이 필요하다, 하지만 QUIC는 Connection ID라는 고유한 ID를 통해 연결을 식별기 때문에 IP가 변경되어도 연결을 유지할 수 있다.
* 연결 정보 캐싱으로 인한 0-RTT
	* QUIC를 사용하여 연결에 성공하면 서버는 연결 성정 정보를 캐싱할 수 있어 0 RTT 연결 설정이 가능하다
* 개선된 혼잡 제어
	* QUIC는 발전된 혼잡 제어 메커니즘을 제공한다
## QUIC 단점
QUIC의 가장 큰 문제는 도입을 하기에는 호환성이 낮다는점이다
* 구현 인프라가 부족
	* QUIC를 구현한 브라우저와 Provider가 제한적이라 QUIC를 도입할 인프라가 부족
* 네트워크 인프라 부족
	* 많은 대규모 네트워크에서는 UDP를 지원하지 않아, QUIC를 도입할 인프라가 부족하다

###### 참고
https://dev.to/accreditly/http1-vs-http2-vs-http3-2k1c
https://inpa.tistory.com/entry/WEB-%F0%9F%8C%90-HTTP-20-%ED%86%B5%EC%8B%A0-%EA%B8%B0%EC%88%A0-%EC%9D%B4%EC%A0%9C%EB%8A%94-%ED%99%95%EC%8B%A4%ED%9E%88-%EC%9D%B4%ED%95%B4%ED%95%98%EC%9E%90#%EC%97%AC%EC%A0%84%ED%95%9C_rtt_round_trip_time
